<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Â¡Felices 10 meses, mi amor!</title>
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=VT323&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Share Tech Mono', monospace;
      user-select: none;
    }
    body, html {
      height: 100%;
      overflow: hidden;
    }
    #lockscreen, #desktop {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
    }
    #lockscreen {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      background: radial-gradient(circle, #FFB6C1, #000);
      text-align: center;
      transition: all 0.3s;
      border: 3px solid transparent;
    }
    .polaroid-container {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .polaroid-outer {
      background: #f0f0f0;
      padding: 60px;
      border-radius: 5px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      position: relative;
    }
    .polaroid-outer::before {
      content: "";
      position: absolute;
      top: -5px;
      left: -5px;
      right: -5px;
      bottom: -5px;
      border: 1px solid black;
      border-radius: 5px;
      pointer-events: none;
    }
    .polaroid-frame {
      background: white;
      padding: 40px 40px 60px; /* Reduced bottom padding */
      border: 20px solid white;
      border-bottom: 60px solid white; /* Smaller bottom border */
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      position: relative;
      width: 450px; /* Larger width */
    }
    .polaroid-frame::before {
      content: "";
      position: absolute;
      top: -8px;
      left: -8px;
      right: -8px;
      bottom: -48px; /* Adjusted for smaller bottom */
      border: 1px solid rgba(0,0,0,0.2);
      z-index: -1;
    }
    .user-icon {
      width: 200px; /* Larger icon */
      height: 200px;
      border-radius: 50%;
      margin-bottom: 30px;
      border: 6px solid white;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      object-fit: cover;
    }
    .username {
      color: rgb(119, 116, 116);
      margin-bottom: 20px;
      font-size: 20px;
      text-shadow: 4px 4px 8px rgba(0,0,0,0.5);
    }
    #passwordInput {
      padding: 15px;
      font-size: 18px;
      margin-top: 20px;
      border-radius: 10px;
      border: 4px solid #888;
      text-align: center;
      background: rgba(255, 255, 255, 0.9);
      outline: none;
      transition: all 0.3s;
      width: 300px;
    }
    #passwordError {
      color: red;
      margin-top: 20px;
      font-size: 16px;
      display: none;
    }
    .shake-effect {
      animation: shake 0.5s;
      border-color: #888 !important;
    }
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      20%, 60% { transform: translateX(-10px); }
      40%, 80% { transform: translateX(10px); }
    }
    #desktop {
      background-size: cover;
      background-position: center;
      display: none;
    }
    #iconArea {
      position: absolute;
      top: 30px;
      left: 60px;
      width: calc(100% - 60px);
      height: calc(100% - 30px);
      padding: 20px;
    }
    .icon {
      width: 80px;
      height: 110px;
      text-align: center;
      cursor: pointer;
      position: absolute;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      transition: transform 0.1s;
    }
    .icon:active {
      transform: scale(0.95);
    }
    .icon img {
      width: 64px;
      height: 64px;
      pointer-events: none;
      margin-bottom: 10px;
      transition: all 0.2s;
    }
    .icon:hover img {
      transform: scale(1.1);
      filter: brightness(1.2);
    }
    .icon div {
      font-size: 10px;
      word-break: break-word;
      text-align: center;
      pointer-events: none;
      color: white;
      text-shadow: 2px 2px 4px #000;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .window {
      position: absolute;
      background: #fff;
      border: 2px solid #000;
      z-index: 10;
      display: flex;
      flex-direction: column;
      box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.3);
      resize: both;
      overflow: hidden;
      min-width: 200px;
      min-height: 150px;
    }
    .window.minimized {
      display: none;
    }
    .window.maximized {
      width: calc(100% - 60px) !important;
      height: calc(100% - 30px) !important;
      top: 30px !important;
      left: 60px !important;
      resize: none;
    }
    .titlebar {
      background: #333;
      color: #fff;
      padding: 5px;
      cursor: move;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .window-controls {
      display: flex;
      gap: 5px;
    }
    .window-btn {
      width: 16px;
      height: 16px;
      border-radius: 50%;
      border: none;
      cursor: pointer;
    }
    .close-btn {
      background: #ff5f56;
    }
    .minimize-btn {
      background: #ffbd2e;
    }
    .maximize-btn {
      background: #27c93f;
    }
    .content {
      flex: 1;
      padding: 0;
      overflow: hidden;
      display: flex;
      background: white;
    }
    .taskbar {
      position: absolute;
      top: 0;
      left: 60px;
      width: calc(100% - 60px);
      height: 30px;
      background: rgba(0, 0, 0, 0.8);
      color: white;
      display: flex;
      justify-content: flex-end;
      align-items: center;
      padding: 0 10px;
      font-size: 12px;
      z-index: 1000;
    }
    #sidebar {
      position: absolute;
      top: 0;
      left: 0;
      width: 60px;
      height: 100%;
      background: rgba(50, 50, 50, 0.6);
      backdrop-filter: blur(2px);
      z-index: 500;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding-top: 40px;
      gap: 15px;
      border-right: 1px solid rgba(255,255,255,0.1);
    }
    .sidebar-icon {
      width: 40px;
      height: 40px;
      cursor: pointer;
      transition: transform 0.2s;
    }
    .sidebar-icon:hover {
      transform: scale(1.1);
    }
    #bgSelect {
      position: absolute;
      top: 40px;
      right: 10px;
      z-index: 1000;
      padding: 5px;
      border-radius: 5px;
      background: rgba(0, 0, 0, 0.7);
      color: white;
      border: 1px solid #555;
    }
    /* Sticky Notes */
    .sticky-note {
      position: absolute;
      width: 200px;
      height: 200px;
      background: #ffa;
      border: 1px solid #cc9;
      box-shadow: 3px 3px 5px rgba(0,0,0,0.2);
      padding: 15px 10px 10px;
      z-index: 5;
      cursor: move;
      resize: both;
      overflow: hidden;
    }
    .sticky-note::before {
      content: "";
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 20px;
      height: 20px;
      background: #c00;
      border-radius: 50%;
      box-shadow: 0 3px 8px rgba(0, 0, 0, 0.3);
    }
    .sticky-note-content {
      width: 100%;
      height: 100%;
      overflow: auto;
      font-size: 12px;
      font-family: Arial, sans-serif;
      color: #333;
    }
    /* Polaroid Note */
    .polaroid-note {
      position: absolute;
      width: 400px; /* Larger width */
      height: 300px; /* Larger height */
      background: white;
      padding: 20px 20px 40px; /* Adjusted padding */
      border: 10px solid white;
      border-bottom: 20px solid white; /* Smaller bottom border */
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      cursor: move;
      overflow: hidden;
      z-index: 5;
      resize: none;
    }
    .polaroid-note::before {
      content: "";
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 25px;
      height: 25px;
      background: #c00;
      border-radius: 50%;
      box-shadow: 0 3px 8px rgba(0, 0, 0, 0.3);
    }
    .polaroid-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    /* Music Player - non-resizable */
    .music-player {
      width: 300px;
      height: 400px;
      background: linear-gradient(135deg, #ddd, #aaa);
      border-radius: 10px;
      padding: 15px;
      display: flex;
      flex-direction: column;
      align-items: center;
      resize: none !important;
      overflow: hidden;
    }
    .music-player .content {
      flex-direction: column;
      padding: 15px;
      background: transparent;
    }
    .album-art {
      width: 200px;
      height: 200px;
      background: #333;
      margin-bottom: 15px;
      border: 3px solid #fff;
      box-shadow: 0 0 10px rgba(0,0,0,0.5);
      background-size: cover;
    }
    .song-info {
      text-align: center;
      margin-bottom: 15px;
      width: 100%;
    }
    .song-title {
      font-size: 14px;
      margin-bottom: 5px;
    }
    .song-artist {
      font-size: 12px;
      color: #555;
      margin-bottom: 3px;
    }
    .song-album {
      font-size: 10px;
      color: #777;
    }
    audio {
      width: 100%;
      margin-top: 10px;
    }
    /* Video Player */
    .video-container {
      position: relative;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: white;
    }
    .video-container video {
      max-width: 100%;
      max-height: 100%;
      width: auto;
      height: auto;
      object-fit: contain;
    }
    /* Click sound element */
    #clickSound {
      display: none;
    }
  </style>
</head>
<body>

<!-- Click sound element -->
<audio id="clickSound" src="assets/click.mp3" preload="auto"></audio>
<!-- Audio elements for login sounds -->
<audio id="loginSound" src="assets/login.mp3" preload="auto"></audio>
<audio id="errorSound" src="assets/error.mp3" preload="auto"></audio>

<div id="lockscreen">
  <div class="polaroid-container">
    <div class="polaroid-outer">
      <div class="polaroid-frame">
        <img src="assets/user.png" class="user-icon" alt="User">
        <div class="username">Edna y Aldo â¤ï¸</div>
        <input type="password" id="passwordInput" placeholder="Enter password" />
        <div id="passwordError">Incorrect password</div>
      </div>
    </div>
  </div>
</div>

<div id="desktop">
  <select id="bgSelect">
    <option value="url('assets/default-bg.jpg')">Default</option>
    <option value="#87CEEB">Blue Theme</option>
    <option value="#FFB6C1">Pink Theme</option>
    <option value="#98FB98">Green Theme</option>
  </select>
  <div id="sidebar"></div>
  <div class="taskbar">
    <div id="clock"></div>
  </div>
  <div id="iconArea"></div>
  
  <!-- Sticky Notes -->
  <div class="sticky-note" id="sticky-note-1">
    <div class="sticky-note-content" id="sticky1"></div>
  </div>
  <div class="polaroid-note" id="polaroid-note-1">
    <img src="assets/polaroid-photo.jpg" class="polaroid-image" alt="Polaroid Photo">
  </div>
  <div class="sticky-note" id="sticky-note-2">
    <div class="sticky-note-content" id="sticky2"></div>
  </div>
</div>

<script>
  const passwordInput = document.getElementById("passwordInput");
  const passwordError = document.getElementById("passwordError");
  const lockscreen = document.getElementById("lockscreen");
  const desktop = document.getElementById("desktop");
  const iconArea = document.getElementById("iconArea");
  const clock = document.getElementById("clock");
  const bgSelect = document.getElementById("bgSelect");
  const sidebar = document.getElementById("sidebar");
  const clickSound = document.getElementById("clickSound");
  const loginSound = document.getElementById("loginSound");
  const errorSound = document.getElementById("errorSound");

  const icons = [
    { 
      id: 'note1', 
      label: 'I Wont Quit On You', 
      icon: 'assets/note.png', 
      hoverIcon: 'assets/note-hover.png',
      action: () => openTextApp('Para mi Edna...', 'assets/note1.txt') 
    },
    { 
      id: 'video', 
      label: 'Video', 
      icon: 'assets/video.png',
      hoverIcon: 'assets/video-hover.png',
      action: () => openVideoApp('assets/sample.mp4') 
    },
    { 
      id: 'music', 
      label: 'MÃºsica', 
      icon: 'assets/music.png',
      hoverIcon: 'assets/music-hover.png',
      action: () => openAudioApp('assets/sample.mp3') 
    },
    { 
      id: 'note2', 
      label: 'Secret Note', 
      icon: 'assets/note.png',
      hoverIcon: 'assets/note-hover.png',
      action: () => openTextApp('Â¡Te amo!', 'assets/note2.txt') 
    }
  ];

  // Sticky note content files
  const stickyNotes = [
    { id: 'sticky1', file: 'assets/sticky1.txt' },
    { id: 'sticky2', file: 'assets/sticky2.txt' }
  ];

  let windows = [];
  let activeWindow = null;
  const gridSizeX = 90;
  const gridSizeY = 120;

  // Play click sound
  function playClickSound() {
    clickSound.currentTime = 0;
    clickSound.play().catch(e => console.log("Couldn't play sound:", e));
  }

  // Setup click sounds for interactive elements
  function setupClickSounds() {
    document.addEventListener('click', (e) => {
      if (e.target.closest('.icon, .window-btn, .sidebar-icon, .sticky-note, .polaroid-note, #bgSelect')) {
        playClickSound();
      }
    });
  }

  function saveNotePositions() {
    document.querySelectorAll('.sticky-note, .polaroid-note').forEach(note => {
      const pos = {
        left: note.style.left,
        top: note.style.top,
        width: note.style.width,
        height: note.style.height
      };
      localStorage.setItem(`pos-${note.id}`, JSON.stringify(pos));
    });
  }

  function loadNotePositions() {
    document.querySelectorAll('.sticky-note, .polaroid-note').forEach(note => {
      const savedPos = JSON.parse(localStorage.getItem(`pos-${note.id}`));
      if (savedPos) {
        note.style.left = savedPos.left || '300px';
        note.style.top = savedPos.top || '100px';
        if (savedPos.width) note.style.width = savedPos.width;
        if (savedPos.height) note.style.height = savedPos.height;
      }
    });
  }

  function initStickyNotes() {
    stickyNotes.forEach(note => {
      fetch(note.file)
        .then(res => res.text())
        .then(text => {
          document.getElementById(note.id).textContent = text;
        })
        .catch(() => {
          document.getElementById(note.id).textContent = "Couldn't load note content";
        });
    });

    // Make sticky notes draggable and save positions
    document.querySelectorAll('.sticky-note, .polaroid-note').forEach(note => {
      let offsetX, offsetY;
      let isDragging = false;
      
      note.addEventListener('mousedown', e => {
        if (e.target === note || e.target.classList.contains('sticky-note-content') || e.target.classList.contains('polaroid-image')) {
          isDragging = true;
          offsetX = e.clientX - note.offsetLeft;
          offsetY = e.clientY - note.offsetTop;
          note.style.zIndex = '20';
          e.preventDefault(); // Prevent text selection
        }
      });
      
      document.addEventListener('mousemove', e => {
        if (!isDragging) return;
        note.style.left = (e.clientX - offsetX) + 'px';
        note.style.top = (e.clientY - offsetY) + 'px';
      });
      
      document.addEventListener('mouseup', () => {
        if (isDragging) {
          isDragging = false;
          saveNotePositions();
        }
      });
    });
    
    // Load saved positions
    loadNotePositions();
  }

  function initIcons() {
    iconArea.innerHTML = '';
    icons.forEach((icon, index) => {
      const savedPos = JSON.parse(localStorage.getItem(`pos-${icon.id}`)) || {
        left: (index % 4) * gridSizeX + 20,
        top: Math.floor(index / 4) * gridSizeY + 20
      };
      
      const el = document.createElement('div');
      el.className = 'icon';
      el.id = icon.id;
      el.style.left = savedPos.left + 'px';
      el.style.top = savedPos.top + 'px';
      
      const img = document.createElement('img');
      img.src = icon.icon;
      img.alt = 'icon';
      img.dataset.normal = icon.icon;
      img.dataset.hover = icon.hoverIcon || icon.icon;
      
      el.appendChild(img);
      el.innerHTML += `<div>${icon.label}</div>`;
      
      el.addEventListener('dblclick', icon.action);
      
      // Hover effect for icons
      el.addEventListener('mouseenter', () => {
        img.src = img.dataset.hover;
      });
      el.addEventListener('mouseleave', () => {
        img.src = img.dataset.normal;
      });
      
      el.draggable = true;
      el.addEventListener('dragstart', (e) => {
        e.dataTransfer.setData('text/plain', icon.id);
        e.dataTransfer.effectAllowed = 'move';
      });
      
      el.addEventListener('dragend', (e) => {
        const rect = el.getBoundingClientRect();
        const snappedLeft = Math.round(rect.left / gridSizeX) * gridSizeX;
        const snappedTop = Math.round(rect.top / gridSizeY) * gridSizeY;
        
        el.style.left = snappedLeft + 'px';
        el.style.top = snappedTop + 'px';
        
        localStorage.setItem(`pos-${icon.id}`, JSON.stringify({
          left: snappedLeft,
          top: snappedTop
        }));
      });
      
      iconArea.appendChild(el);
    });
    
    iconArea.addEventListener('dragover', (e) => {
      e.preventDefault();
      e.dataTransfer.dropEffect = 'move';
    });
    
    iconArea.addEventListener('drop', (e) => {
      e.preventDefault();
      const id = e.dataTransfer.getData('text/plain');
      const draggedEl = document.getElementById(id);
      
      if (draggedEl) {
        const rect = iconArea.getBoundingClientRect();
        const left = e.clientX - rect.left - (gridSizeX / 2);
        const top = e.clientY - rect.top - (gridSizeY / 2);
        
        const snappedLeft = Math.max(0, Math.round(left / gridSizeX) * gridSizeX);
        const snappedTop = Math.max(0, Math.round(top / gridSizeY) * gridSizeY);
        
        draggedEl.style.left = snappedLeft + 'px';
        draggedEl.style.top = snappedTop + 'px';
        
        localStorage.setItem(`pos-${id}`, JSON.stringify({
          left: snappedLeft,
          top: snappedTop
        }));
      }
    });
  }

  function createWindow(title, options = {}) {
    const win = document.createElement('div');
    win.className = 'window';
    win.style.left = (100 + windows.length * 20) + 'px';
    win.style.top = (100 + windows.length * 20) + 'px';
    
    if (options.width) win.style.width = options.width + 'px';
    if (options.height) win.style.height = options.height + 'px';
    
    // Only disable resizing if explicitly requested (for music player)
    if (options.resizable === false) {
      win.style.resize = 'none';
    }
    
    win.innerHTML = `
      <div class="titlebar">
        <span>${title}</span>
        <div class="window-controls">
          ${options.closable !== false ? '<button class="window-btn close-btn"></button>' : ''}
          ${options.minimizable !== false ? '<button class="window-btn minimize-btn"></button>' : ''}
          ${options.maximizable !== false ? '<button class="window-btn maximize-btn"></button>' : ''}
        </div>
      </div>
      <div class="content"></div>
    `;

    const content = win.querySelector('.content');
    const titlebar = win.querySelector('.titlebar');
    const minimizeBtn = win.querySelector('.minimize-btn');
    const maximizeBtn = win.querySelector('.maximize-btn');
    const closeBtn = win.querySelector('.close-btn');

    // Window dragging
    let offsetX, offsetY;
    titlebar.addEventListener('mousedown', e => {
      if (e.target === titlebar || e.target.tagName === 'SPAN') {
        offsetX = e.clientX - win.offsetLeft;
        offsetY = e.clientY - win.offsetTop;
        bringToFront(win);
        
        function onMouseMove(e) {
          if (!win.classList.contains('maximized')) {
            win.style.left = (e.clientX - offsetX) + 'px';
            win.style.top = (e.clientY - offsetY) + 'px';
          }
        }
        
        document.addEventListener('mousemove', onMouseMove);
        document.addEventListener('mouseup', () => {
          document.removeEventListener('mousemove', onMouseMove);
        }, { once: true });
      }
    });

    // Window controls
    if (minimizeBtn) {
      minimizeBtn.addEventListener('click', () => {
        win.classList.add('minimized');
        addToSidebar(win, title);
      });
    }

    if (maximizeBtn) {
      maximizeBtn.addEventListener('click', () => {
        win.classList.toggle('maximized');
        if (win.classList.contains('maximized')) {
          win.style.top = '30px';
          win.style.left = '60px';
        }
      });
    }

    if (closeBtn) {
      closeBtn.addEventListener('click', () => {
        win.remove();
        windows = windows.filter(w => w !== win);
      });
    }

    win.addEventListener('mousedown', () => {
      bringToFront(win);
    });

    desktop.appendChild(win);
    windows.push(win);
    bringToFront(win);
    return { window: win, content };
  }

  function addToSidebar(win, title) {
    const icon = document.createElement('img');
    icon.className = 'sidebar-icon';
    
    // Find the window's original icon by checking the window's title against icon labels
    let appIcon = 'assets/note.png'; // default fallback
    
    // Check if this is a video window
    if (title.includes('Felices 10 meses')) {
      appIcon = 'assets/video.png';
    } 
    // Check if this is a music window
    else if (title.includes('MÃºsica')) {
      appIcon = 'assets/music.png';
    }
    // For text apps, check the title against our icons array
    else {
      const matchingIcon = icons.find(i => title.includes(i.label));
      if (matchingIcon) {
        appIcon = matchingIcon.icon;
      }
    }
    
    icon.src = appIcon;
    icon.title = title;
    icon.addEventListener('click', () => {
      win.classList.remove('minimized');
      icon.remove();
      bringToFront(win);
    });
    sidebar.appendChild(icon);
  }

  function bringToFront(win) {
    windows.forEach(w => {
      if (w === win) {
        w.style.zIndex = '100';
      } else {
        w.style.zIndex = '10';
      }
    });
    activeWindow = win;
  }

  function openTextApp(title, filePath) {
    const { content } = createWindow(title);
    content.style.padding = '10px';
    fetch(filePath).then(res => res.text()).then(text => {
      content.innerHTML = `<pre style="white-space: pre-wrap;">${text}</pre>`;
    }).catch(() => content.innerHTML = 'Failed to load file.');
  }

  function openVideoApp(filePath) {
    const { window: win, content } = createWindow('Â¡Felices 10 meses, mi amor!', {
      width: 900, // Larger initial width
      height: 550, // Larger initial height (maintaining ~16:9 ratio)
      resizable: true
    });
    
    win.classList.add('video-player');
    content.innerHTML = `
      <div class="video-container">
        <video controls autoplay>
          <source src="${filePath}" type="video/mp4">
          Your browser does not support the video element.
        </video>
      </div>
    `;
    
    const video = content.querySelector('video');
    let aspectRatio = 16/9; // Default to 16:9, will update with actual video ratio
    
    // Get actual video aspect ratio once loaded
    video.onloadedmetadata = function() {
      aspectRatio = video.videoWidth / video.videoHeight;
    };
    
    // Enable standard browser resizing
    win.style.resize = 'both';
    win.style.overflow = 'auto';
  }

  function openAudioApp(filePath) {
    const { content } = createWindow('MÃºsica ', {
      width: 300,
      height: 400,
      resizable: false // Only the music player is non-resizable
    });
    
    content.className = 'music-player';
    content.innerHTML = `
      <div class="album-art" style="background-image: url('assets/album-cover.jpg')"></div>
      <div class="song-info">
        <div class="song-title">I Won't Quit On You</div>
        <div class="song-artist">Hayley Williams</div>
        <div class="song-album">From the single "I Won't Quit On You"</div>
      </div>
      <audio controls autoplay>
        <source src="${filePath}" type="audio/mpeg">
        Your browser does not support the audio element.
      </audio>
    `;
    
    // Ensure audio player fits perfectly
    const audio = content.querySelector('audio');
    audio.style.width = '100%';
  }

  function updateClock() {
    const now = new Date();
    clock.textContent = now.toLocaleString();
  }

  // Background selection
  bgSelect.addEventListener('change', () => {
    const value = bgSelect.value;
    if (value.startsWith('url')) {
      desktop.style.backgroundImage = value;
      desktop.style.backgroundColor = '';
    } else {
      desktop.style.backgroundImage = 'none';
      desktop.style.backgroundColor = value;
    }
  });

  setInterval(updateClock, 1000);
  updateClock();

  passwordInput.addEventListener("keydown", function (e) {
    if (e.key === "Enter") {
      if (passwordInput.value === "1") {
        loginSound.play().catch(e => console.log("Couldn't play sound:", e));
        lockscreen.style.display = "none";
        desktop.style.display = "block";
        initIcons();
        initStickyNotes();
        setupClickSounds();
        // Set blue theme by default
        desktop.style.backgroundImage = 'none';
        desktop.style.backgroundColor = '#FFB6C1';
        bgSelect.value = '#FFB6C1';
      } else {
        errorSound.play().catch(e => console.log("Couldn't play sound:", e));
        passwordInput.style.border = "4px solid #888";
        passwordError.style.display = "block";
        lockscreen.style.border = "3px solid #888";
        lockscreen.classList.add("shake-effect");
        setTimeout(() => {
          lockscreen.classList.remove("shake-effect");
          passwordInput.style.border = "4px solid #888";
          lockscreen.style.border = "3px solid transparent";
        }, 500);
      }
    }
  });
</script>
</body>
</html>